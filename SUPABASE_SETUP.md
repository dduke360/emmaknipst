# Supabase Setup Guide

## 1. Create Supabase Account
1. Go to https://supabase.com/
2. Sign up for free account

## 2. Create Project
1. Click "New Project"
2. Name: `emma-knipst`
3. Set password and create
4. Wait for project to be ready (1-2 min)

## 3. Create Database Table
Go to **SQL Editor** in Supabase and run this:

```sql
-- Create photos table
CREATE TABLE photos (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  title TEXT NOT NULL,
  src TEXT NOT NULL,
  category TEXT NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Create settings table for photographer info
CREATE TABLE settings (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  key TEXT UNIQUE NOT NULL,
  value TEXT NOT NULL
);

-- Insert default settings
INSERT INTO settings (key, value) VALUES 
  ('about', 'I''m a young photographer based in Berlin, Germany. I specialize in portrait, fashion, and lifestyle photography. My work is about capturing authentic moments and raw emotions.'),
  ('email', 'hello@emmaknipst.com'),
  ('instagram', '@emmaknipst');

-- Enable RLS (Row Level Security)
ALTER TABLE photos ENABLE ROW LEVEL SECURITY;
ALTER TABLE settings ENABLE ROW LEVEL SECURITY;

-- Make public readable
CREATE POLICY "Public can read photos" ON photos FOR SELECT USING (true);
CREATE POLICY "Public can read settings" ON settings FOR SELECT USING (true);

-- Allow authenticated users to insert/update/delete (you'll use service role key for admin)
CREATE POLICY "Admin can manage photos" ON photos FOR ALL USING (true);
CREATE POLICY "Admin can manage settings" ON settings FOR ALL USING (true);
```

## 4. Get API Keys
1. Go to **Project Settings** â†’ **API**
2. Copy:
   - **Project URL** (e.g., `https://xxxxx.supabase.co`)
   - **anon public** key (under "Project API keys")

## 5. Update Code
Open `app.js` and `admin.html` and replace the SupABASE_URL and SUPABASE_ANON_KEY placeholders with your actual values.
